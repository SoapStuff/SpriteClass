<!--suppress ALL -->
<script>
    var gl;
    var canvas;

    function main() {
        canvas = document.querySelector("#glCanvas");
        canvas.width = document.body.clientWidth;
        canvas.height = document.body.clientHeight;

        // Initialize the GL context
        gl = canvas.getContext("webgl");

        // Only continue if WebGL is available and working
        if (!gl) {
            alert("Unable to initialize WebGL. Your browser or machine may not support it.");
            return;
        }

        // Clear the canvas
        gl.clearColor(1.0, 1.0, 1.0, 0.9);

        // Clear the color buffer with specified clear color
        gl.clear(gl.COLOR_BUFFER_BIT);
    }

    main();

    var request = new XMLHttpRequest();

    request.open('POST', 'gl');
    request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    request.onload = function() {
        var data = JSON.parse(request.responseText);
        console.log(data["points"]);

        var points = data["points"]

        for (key in points) {
            drawPoints(canvas, gl, key, points[key]);
        }
    };
    request.send();
</script>